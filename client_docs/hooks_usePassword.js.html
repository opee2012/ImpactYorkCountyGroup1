<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: hooks/usePassword.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: hooks/usePassword.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Custom hook for handling password updates. Provides functionality to update the password and admin status of a user.
 *
 * @returns {Object} An object containing the error state and the updateLogin function.
 */
export const usePassword = () => {
    // State for tracking errors
    const [error, setError] = useState(null);

    /**
     * Asynchronously updates the login information for a user.
     * @param {string} targetEmail - The email of the user whose password is being updated.
     * @param {string} newPassword - The new password for the user.
     * @param {boolean} isAdmin - The admin status of the user.
     * @returns {Promise&lt;string|null>} A promise that resolves to the token if the update is successful, or null if there's an error.
     */
    const updateLogin = async (targetEmail, newPassword, isAdmin) => {
        try {
            const response = await fetch(`/login/${encodeURIComponent(targetEmail)}`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ email: targetEmail, password: newPassword, admin: isAdmin })
            });

            if (!response.ok) {
                throw new Error('Failed to update password');
            }

            const data = await response.json();
            // Assuming token is returned upon successful update
            const { token } = data;
            // may want to handle token here
            return token;
        } catch (error) {
            setError(error.message);
            return null;
        }
    };

    return { error, updateLogin };
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#App">App</a></li><li><a href="global.html#AuthContextProvider">AuthContextProvider</a></li><li><a href="global.html#ChangePasswordForm">ChangePasswordForm</a></li><li><a href="global.html#Dashboard">Dashboard</a></li><li><a href="global.html#DashboardAccordion">DashboardAccordion</a></li><li><a href="global.html#Edit">Edit</a></li><li><a href="global.html#Login">Login</a></li><li><a href="global.html#LoginForm">LoginForm</a></li><li><a href="global.html#MyDropzone">MyDropzone</a></li><li><a href="global.html#Upload">Upload</a></li><li><a href="global.html#UploadForm">UploadForm</a></li><li><a href="global.html#UserManagement">UserManagement</a></li><li><a href="global.html#authReducer">authReducer</a></li><li><a href="global.html#useAuthContext">useAuthContext</a></li><li><a href="global.html#useDataHandle">useDataHandle</a></li><li><a href="global.html#useEdit">useEdit</a></li><li><a href="global.html#useLogin">useLogin</a></li><li><a href="global.html#useLogout">useLogout</a></li><li><a href="global.html#usePassword">usePassword</a></li><li><a href="global.html#useUpload">useUpload</a></li><li><a href="global.html#useUserMan">useUserMan</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Wed Apr 10 2024 23:29:06 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
